# Example configuration for monitoring-client

client:
  # Used in metadata.generator
  name: "monitoring-client"
  version: "1.0.15"
  schema_version: "1.0.15"

api:
  # Base URL of the monitoring server (no trailing slash)
  base_url: "http://localhost:8000"
  # Metrics endpoint relative to base_url
  metrics_endpoint: "/api/v1/ingest/metrics"
  # HTTP timeout in seconds
  timeout_seconds: 5
  # Number of retries on network error / 5xx HTTP status
  max_retries: 3
  # Header name for API key
  api_key_header: "X-API-Key"
  # Path to the file containing the API key (relative to project root or absolute)
  api_key_file: "data/api_key"
  # Optional env var that can override api_key_file content
  api_key_env_var: "MONITORING_API_KEY"

paths:
  # Directory where builtin collectors live (Python modules)
  builtin_collectors_dir: "src/collectors/builtin"
  # Directory where vendor metric definitions / scripts are stored
  vendors_dir: "vendors"
  # Optional directory for runtime data (fingerprints, cache, etc.)
  data_dir: "data"
  # Optional logs directory (if file logging is enabled)
  logs_dir: "/var/log/monitoring-client"

machine:
  # How to determine hostname:
  #  - "system": use socket.gethostname()
  #  - "fqdn": use socket.getfqdn()
  #  - "static": use the value from machine.hostname_override
  hostname_source: "system"
  # Only used when hostname_source == "static"
  hostname_override: null
  # Optional os override; if null, auto-detected (e.g. "linux", "windows")
  os_override: null

fingerprint:
  # Fingerprint strategy, interpreted by src/core/fingerprint.py
  # "default" = deterministic hash of hardware / OS characteristics
  method: "default"
  # Optional constant salt to mix into fingerprint (string or null)
  salt: null
  # If true, cached fingerprint (if any) will be ignored and recomputed
  force_recompute: false
  # Optional path where fingerprint can be cached (inside paths.data_dir if relative)
  cache_file: "fingerprint"

logging:
  # One of: CRITICAL, ERROR, WARNING, INFO, DEBUG (can be overridden by env var MONITORING_LOG_LEVEL)
  level: "INFO"
  # Log format: "plain" or "json"
  format: "plain"
  # Whether to log to console (stdout)
  console_enabled: true
  # Whether to log to file (requires paths.logs_dir)
  file_enabled: false
  # Log file name (inside logs_dir if relative)
  file_name: "monitoring-client.log"
